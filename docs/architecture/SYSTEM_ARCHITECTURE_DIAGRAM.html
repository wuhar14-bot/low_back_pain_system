<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿæ¶æ„å›¾ - Low Back Pain System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 60px;
        }

        .section-title {
            font-size: 2em;
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }

        .architecture-box {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .layer {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .layer-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .layer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .service-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            transition: transform 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .service-card h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .service-card .port {
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .service-card ul {
            list-style: none;
            margin-top: 15px;
        }

        .service-card ul li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .service-card ul li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #4ade80;
            font-weight: bold;
        }

        .flow-diagram {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .flow-step .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .flow-step .step-content {
            flex: 1;
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .flow-step .step-actor {
            font-weight: bold;
            color: #667eea;
            margin-right: 10px;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .tech-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .tech-item:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .tech-item h4 {
            color: #667eea;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .tech-item ul {
            list-style: none;
        }

        .tech-item ul li {
            padding: 5px 0;
            color: #666;
        }

        .performance-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .performance-table thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .performance-table th,
        .performance-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        .performance-table tbody tr:hover {
            background: #f8f9fa;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .badge-success {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-warning {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-info {
            background: #dbeafe;
            color: #1e40af;
        }

        .alert {
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .alert-info {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            color: #1e40af;
        }

        .alert-success {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            color: #065f46;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
        }

        .card h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .grid-2,
            .grid-3 {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }
        }

        .toc {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .toc h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .toc ul {
            list-style: none;
        }

        .toc ul li {
            padding: 8px 0;
        }

        .toc ul li a {
            color: #333;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .toc ul li a:hover {
            color: #667eea;
        }

        .icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¥ ç³»ç»Ÿæ¶æ„å›¾</h1>
            <h2>Low Back Pain Data Collection System</h2>
            <p>University of Hong Kong - Department of Orthopaedics & Traumatology</p>
            <p style="margin-top: 10px; font-size: 0.9em;">Last Updated: 2025-10-24</p>
        </div>

        <div class="content">
            <!-- ç›®å½• -->
            <div class="toc">
                <h3>ğŸ“‘ ç›®å½•</h3>
                <ul>
                    <li><a href="#architecture">1. å®Œæ•´ç³»ç»Ÿæ¶æ„</a></li>
                    <li><a href="#dataflow">2. æ•°æ®æµå‘å›¾</a></li>
                    <li><a href="#techstack">3. æŠ€æœ¯æ ˆæ€»è§ˆ</a></li>
                    <li><a href="#performance">4. æ€§èƒ½æŒ‡æ ‡</a></li>
                    <li><a href="#network">5. ç½‘ç»œæ‹“æ‰‘</a></li>
                </ul>
            </div>

            <!-- å®Œæ•´ç³»ç»Ÿæ¶æ„ -->
            <section class="section" id="architecture">
                <h2 class="section-title">ğŸ—ï¸ å®Œæ•´ç³»ç»Ÿæ¶æ„</h2>

                <div class="architecture-box">
                    <!-- å®¢æˆ·ç«¯å±‚ -->
                    <div class="layer">
                        <div class="layer-title">
                            <span>ğŸ’»</span>
                            <span>å®¢æˆ·ç«¯å±‚ (Client Layer)</span>
                        </div>
                        <div class="grid-2">
                            <div class="card">
                                <h3>ğŸ–¥ï¸ PC æµè§ˆå™¨</h3>
                                <p><strong>è®¿é—®åœ°å€:</strong> http://localhost:5173</p>
                                <p><strong>æµè§ˆå™¨:</strong> Chrome / Edge / Safari</p>
                                <ul style="margin-top: 10px; list-style: none;">
                                    <li>âœ“ å¡«å†™æ‚£è€…ä¿¡æ¯</li>
                                    <li>âœ“ OCRè¯†åˆ«è¡¨å•</li>
                                    <li>âœ“ æŸ¥çœ‹åˆ†æç»“æœ</li>
                                </ul>
                            </div>
                            <div class="card">
                                <h3>ğŸ“± æ‰‹æœºæµè§ˆå™¨</h3>
                                <p><strong>è®¿é—®åœ°å€:</strong> http://172.20.10.4:5173</p>
                                <p><strong>æµè§ˆå™¨:</strong> Chrome / Safari</p>
                                <ul style="margin-top: 10px; list-style: none;">
                                    <li>âœ“ æ‹æ‘„æ‚£è€…ç…§ç‰‡</li>
                                    <li>âœ“ ä¸Šä¼ å§¿æ€ç…§ç‰‡</li>
                                    <li>âœ“ å®æ—¶åŒæ­¥æ•°æ®</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- å‰ç«¯å±‚ -->
                    <div class="layer">
                        <div class="layer-title">
                            <span>âš›ï¸</span>
                            <span>å‰ç«¯å±‚ (Frontend Layer) - Port 5173</span>
                        </div>
                        <div class="alert alert-info">
                            <strong>React 18 å•é¡µåº”ç”¨ (SPA)</strong><br>
                            æŠ€æœ¯æ ˆ: React + Vite + TailwindCSS + shadcn/ui
                        </div>
                        <div class="grid-2" style="margin-top: 20px;">
                            <div class="card">
                                <h3>ğŸ“„ é¡µé¢ç»„ä»¶</h3>
                                <ul style="list-style: none;">
                                    <li>â€¢ Dashboard.jsx - æ‚£è€…åˆ—è¡¨</li>
                                    <li>â€¢ PatientForm.jsx - æ–°å¢/ç¼–è¾‘æ‚£è€…</li>
                                    <li>â€¢ PatientDetail.jsx - æ‚£è€…è¯¦æƒ…</li>
                                </ul>
                            </div>
                            <div class="card">
                                <h3>ğŸ§© è¡¨å•ç»„ä»¶</h3>
                                <ul style="list-style: none;">
                                    <li>â€¢ BasicInfoSection - åŸºæœ¬ä¿¡æ¯</li>
                                    <li>â€¢ MedicalHistorySection - ç—…å²</li>
                                    <li>â€¢ SubjectiveExamSection - ä¸»è§‚æ£€æŸ¥</li>
                                    <li>â€¢ ObjectiveExamSection - å®¢è§‚æ£€æŸ¥</li>
                                    <li>â€¢ PostureAnalysisModal - AIå§¿æ€åˆ†æ</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- åç«¯æœåŠ¡å±‚ -->
                    <div class="layer">
                        <div class="layer-title">
                            <span>ğŸ”§</span>
                            <span>åç«¯æœåŠ¡å±‚ (Backend Services)</span>
                        </div>
                        <div class="layer-content">
                            <div class="service-card">
                                <h3>
                                    ğŸ“„ OCRæœåŠ¡
                                    <span class="port">:5001</span>
                                </h3>
                                <p><strong>æŠ€æœ¯:</strong> Python + Flask + PaddleOCR</p>
                                <ul>
                                    <li>ä¸­è‹±æ–‡è¯†åˆ«</li>
                                    <li>GPUåŠ é€Ÿ</li>
                                    <li>å­—æ®µæå–</li>
                                    <li>2-5ç§’å¤„ç†</li>
                                </ul>
                                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2);">
                                    <strong>APIç«¯ç‚¹:</strong><br>
                                    <code style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.9em;">GET /health</code><br>
                                    <code style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.9em;">POST /ocr/process</code>
                                </div>
                            </div>

                            <div class="service-card">
                                <h3>
                                    ğŸ§ å§¿æ€æœåŠ¡
                                    <span class="port">:5002</span>
                                </h3>
                                <p><strong>æŠ€æœ¯:</strong> Python + Flask + MediaPipe</p>
                                <ul>
                                    <li>33ä¸ªå…³é”®ç‚¹</li>
                                    <li>ROMè®¡ç®—</li>
                                    <li>ä»£å¿æ£€æµ‹</li>
                                    <li>&lt;2ç§’å¤„ç†</li>
                                </ul>
                                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2);">
                                    <strong>APIç«¯ç‚¹:</strong><br>
                                    <code style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.9em;">GET /health</code><br>
                                    <code style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.9em;">POST /pose/analyze-static</code>
                                </div>
                            </div>

                            <div class="service-card">
                                <h3>
                                    ğŸ’¾ æ•°æ®åº“æœåŠ¡
                                    <span class="port">:5003</span>
                                </h3>
                                <p><strong>æŠ€æœ¯:</strong> Python + Flask + SQLite3</p>
                                <ul>
                                    <li>CRUDæ“ä½œ</li>
                                    <li>äº‹åŠ¡ç®¡ç†</li>
                                    <li>JSONæŸ¥è¯¢</li>
                                    <li>&lt;100mså“åº”</li>
                                </ul>
                                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2);">
                                    <strong>APIç«¯ç‚¹:</strong><br>
                                    <code style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.9em;">GET /patients</code><br>
                                    <code style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.9em;">POST /patients</code><br>
                                    <code style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 4px; font-size: 0.9em;">PUT /patients/:id</code>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- æ•°æ®åº“å±‚ -->
                    <div class="layer">
                        <div class="layer-title">
                            <span>ğŸ—„ï¸</span>
                            <span>æ•°æ®åº“å±‚ (Database Layer)</span>
                        </div>
                        <div class="card">
                            <h3>ğŸ“ SQLite æ•°æ®åº“</h3>
                            <p><strong>æ–‡ä»¶:</strong> backend/low_back_pain.db</p>
                            <p><strong>å¤§å°:</strong> ~12 KB (å½“å‰)</p>
                            <p><strong>ç±»å‹:</strong> å•æ–‡ä»¶æ•°æ®åº“</p>
                            <div style="margin-top: 15px;">
                                <strong>æ ¸å¿ƒè¡¨ç»“æ„ - patients:</strong>
                                <ul style="list-style: none; margin-top: 10px;">
                                    <li>â€¢ id (ä¸»é”®) - æ‚£è€…å”¯ä¸€æ ‡è¯†</li>
                                    <li>â€¢ study_id - ç ”ç©¶ID</li>
                                    <li>â€¢ name, age, gender - åŸºæœ¬ä¿¡æ¯</li>
                                    <li>â€¢ medical_history - ç—…å² (JSON)</li>
                                    <li>â€¢ subjective_exam - ä¸»è§‚æ£€æŸ¥ (JSON)</li>
                                    <li>â€¢ objective_exam - å®¢è§‚æ£€æŸ¥ (JSON)</li>
                                    <li>â€¢ ai_posture_analysis - AIåˆ†æ (JSON)</li>
                                    <li>â€¢ data_json - å®Œæ•´æ•°æ®å¤‡ä»½ (JSON)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- æ•°æ®æµå‘å›¾ -->
            <section class="section" id="dataflow">
                <h2 class="section-title">ğŸ”„ æ•°æ®æµå‘å›¾</h2>

                <!-- åœºæ™¯1: OCRè¯†åˆ« -->
                <div class="flow-diagram">
                    <h3 style="color: #667eea; margin-bottom: 20px;">åœºæ™¯1: OCRè¯†åˆ«æ‚£è€…ä¿¡æ¯</h3>

                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <span class="step-actor">ç”¨æˆ· â†’</span>
                            ä¸Šä¼ è¡¨å•ç…§ç‰‡åˆ°å‰ç«¯
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ OCRæœåŠ¡</span>
                            POST /ocr/process (å›¾ç‰‡base64ç¼–ç )
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <span class="step-actor">OCRæœåŠ¡</span>
                            PaddleOCRè¯†åˆ«æ–‡å­— (2-5ç§’ï¼ŒGPUåŠ é€Ÿ)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <span class="step-actor">OCRæœåŠ¡ â†’ å‰ç«¯</span>
                            è¿”å›ç»“æ„åŒ–æ•°æ® (JSONæ ¼å¼: å§“åã€å¹´é¾„ã€æ€§åˆ«ç­‰)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ ç”¨æˆ·</span>
                            è‡ªåŠ¨å¡«å……è¡¨å•å­—æ®µ
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <span class="step-actor">ç”¨æˆ·</span>
                            å®Œæˆç¼–è¾‘ï¼Œç‚¹å‡»"æäº¤"
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ æ•°æ®åº“æœåŠ¡</span>
                            POST /patients (å®Œæ•´æ‚£è€…æ•°æ®)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">8</div>
                        <div class="step-content">
                            <span class="step-actor">æ•°æ®åº“æœåŠ¡</span>
                            INSERT INTO patients (ä¿å­˜åˆ°SQLite)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">9</div>
                        <div class="step-content">
                            <span class="step-actor">æ•°æ®åº“æœåŠ¡ â†’ å‰ç«¯</span>
                            è¿”å›æˆåŠŸçŠ¶æ€å’Œæ‚£è€…ID
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">10</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ ç”¨æˆ·</span>
                            æ˜¾ç¤ºæˆåŠŸæç¤ºï¼Œè·³è½¬åˆ°æ‚£è€…åˆ—è¡¨
                        </div>
                    </div>
                </div>

                <!-- åœºæ™¯2: AIå§¿æ€åˆ†æ -->
                <div class="flow-diagram">
                    <h3 style="color: #667eea; margin-bottom: 20px;">åœºæ™¯2: AIå§¿æ€åˆ†æ</h3>

                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <span class="step-actor">ç”¨æˆ· â†’</span>
                            ä¸Šä¼ ç«™ç«‹ç…§ç‰‡ + å‰å±ˆç…§ç‰‡
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ å§¿æ€æœåŠ¡</span>
                            POST /pose/analyze-static (2å¼ å›¾ç‰‡)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <span class="step-actor">å§¿æ€æœåŠ¡</span>
                            MediaPipeè¯†åˆ«33ä¸ªäººä½“å…³é”®ç‚¹
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <span class="step-actor">å§¿æ€æœåŠ¡</span>
                            è®¡ç®—: ROMè§’åº¦ã€èº¯å¹²è§’åº¦ã€éª¨ç›†å€¾æ–œã€ä»£å¿æ£€æµ‹ (&lt;2ç§’)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <span class="step-actor">å§¿æ€æœåŠ¡ â†’ å‰ç«¯</span>
                            è¿”å›åˆ†æç»“æœ + æ ‡æ³¨å›¾ç‰‡ (JSON)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ ç”¨æˆ·</span>
                            å±•ç¤º: ROM 47.4Â°, è¯„ä¼°:è½»åº¦å—é™, ä»£å¿åŠ¨ä½œ, ä¸´åºŠå»ºè®®
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <span class="step-actor">ç”¨æˆ·</span>
                            å®¡æ ¸ç»“æœï¼Œç‚¹å‡»"ä¿å­˜"
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">8</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ æ•°æ®åº“æœåŠ¡</span>
                            PUT /patients/:id (æ›´æ–°ai_posture_analysiså­—æ®µ)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">9</div>
                        <div class="step-content">
                            <span class="step-actor">æ•°æ®åº“æœåŠ¡</span>
                            UPDATE patients SET ai_posture_analysis = ...
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-number">10</div>
                        <div class="step-content">
                            <span class="step-actor">å‰ç«¯ â†’ ç”¨æˆ·</span>
                            æ˜¾ç¤º"ä¿å­˜æˆåŠŸ"æç¤º
                        </div>
                    </div>
                </div>

                <!-- åœºæ™¯3: è·¨è®¾å¤‡åŒæ­¥ -->
                <div class="flow-diagram">
                    <h3 style="color: #667eea; margin-bottom: 20px;">åœºæ™¯3: è·¨è®¾å¤‡æ•°æ®åŒæ­¥ (PC â†” æ‰‹æœº)</h3>

                    <div class="alert alert-success">
                        <strong>å·¥ä½œæµç¨‹:</strong> PCåˆ›å»ºæ‚£è€… â†’ æ‰‹æœºè‡ªåŠ¨åŒæ­¥ â†’ æ‰‹æœºä¸Šä¼ ç…§ç‰‡ â†’ PCè‡ªåŠ¨åŒæ­¥
                    </div>

                    <div style="margin-top: 20px;">
                        <h4 style="color: #667eea;">é˜¶æ®µ1: PCåˆ›å»ºæ‚£è€…</h4>
                        <div class="flow-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <span class="step-actor">PCç”¨æˆ·</span>
                                åˆ›å»ºæ–°æ‚£è€…å¹¶å¡«å†™åŸºæœ¬ä¿¡æ¯
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <span class="step-actor">PCå‰ç«¯ â†’ æ•°æ®åº“</span>
                                POST /patients (ä¿å­˜æ‚£è€…A)
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 20px;">
                        <h4 style="color: #667eea;">é˜¶æ®µ2: æ‰‹æœºè‡ªåŠ¨åŒæ­¥</h4>
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <span class="step-actor">æ‰‹æœºå‰ç«¯</span>
                                æ¯3ç§’è½®è¯¢: GET /patients
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <span class="step-actor">æ•°æ®åº“ â†’ æ‰‹æœºå‰ç«¯</span>
                                è¿”å›æ‚£è€…åˆ—è¡¨ (åŒ…å«æ‚£è€…A)
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <span class="step-actor">æ‰‹æœºå‰ç«¯</span>
                                è‡ªåŠ¨æ˜¾ç¤ºæ–°åˆ›å»ºçš„æ‚£è€…A
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 20px;">
                        <h4 style="color: #667eea;">é˜¶æ®µ3: æ‰‹æœºä¸Šä¼ ç…§ç‰‡</h4>
                        <div class="flow-step">
                            <div class="step-number">6</div>
                            <div class="step-content">
                                <span class="step-actor">æ‰‹æœºç”¨æˆ·</span>
                                ç”¨æ‰‹æœºæ‹æ‘„å§¿æ€ç…§ç‰‡å¹¶åˆ†æ
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">7</div>
                            <div class="step-content">
                                <span class="step-actor">æ‰‹æœºå‰ç«¯ â†’ æ•°æ®åº“</span>
                                PUT /patients/A (æ›´æ–°å§¿æ€æ•°æ®)
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 20px;">
                        <h4 style="color: #667eea;">é˜¶æ®µ4: PCè‡ªåŠ¨åŒæ­¥</h4>
                        <div class="flow-step">
                            <div class="step-number">8</div>
                            <div class="step-content">
                                <span class="step-actor">PCå‰ç«¯</span>
                                è½®è¯¢æŸ¥è¯¢: GET /patients/A
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">9</div>
                            <div class="step-content">
                                <span class="step-actor">æ•°æ®åº“ â†’ PCå‰ç«¯</span>
                                è¿”å›æœ€æ–°æ•°æ® (åŒ…å«å§¿æ€ç…§ç‰‡)
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">10</div>
                            <div class="step-content">
                                <span class="step-actor">PCå‰ç«¯</span>
                                è‡ªåŠ¨æ›´æ–°ç•Œé¢ï¼Œæ˜¾ç¤ºå§¿æ€åˆ†æç»“æœ
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- æŠ€æœ¯æ ˆ -->
            <section class="section" id="techstack">
                <h2 class="section-title">ğŸ› ï¸ æŠ€æœ¯æ ˆæ€»è§ˆ</h2>

                <div class="tech-stack">
                    <div class="tech-item">
                        <h4>âš›ï¸ å‰ç«¯ (Port 5173)</h4>
                        <ul>
                            <li>React 18.2</li>
                            <li>Vite 6.1</li>
                            <li>TailwindCSS 3.4</li>
                            <li>shadcn/ui</li>
                            <li>React Router 7.2</li>
                            <li>React Hook Form + Zod</li>
                        </ul>
                    </div>

                    <div class="tech-item">
                        <h4>ğŸ åç«¯æ¡†æ¶</h4>
                        <ul>
                            <li>Python 3.12</li>
                            <li>Flask 3.0</li>
                            <li>Flask-CORS</li>
                        </ul>
                    </div>

                    <div class="tech-item">
                        <h4>ğŸ“„ OCRæœåŠ¡ (:5001)</h4>
                        <ul>
                            <li>PaddleOCR 2.7</li>
                            <li>PaddlePaddle GPU</li>
                            <li>OpenCV</li>
                        </ul>
                    </div>

                    <div class="tech-item">
                        <h4>ğŸ§ å§¿æ€æœåŠ¡ (:5002)</h4>
                        <ul>
                            <li>MediaPipe 0.10.18</li>
                            <li>NumPy 1.26</li>
                            <li>OpenCV 4.9</li>
                        </ul>
                    </div>

                    <div class="tech-item">
                        <h4>ğŸ’¾ æ•°æ®åº“æœåŠ¡ (:5003)</h4>
                        <ul>
                            <li>SQLite3 (å†…ç½®)</li>
                            <li>Python JSONæ¨¡å—</li>
                        </ul>
                    </div>

                    <div class="tech-item">
                        <h4>ğŸ”§ å¼€å‘å·¥å…·</h4>
                        <ul>
                            <li>Git ç‰ˆæœ¬æ§åˆ¶</li>
                            <li>VS Code ç¼–è¾‘å™¨</li>
                            <li>Chrome DevTools</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- æ€§èƒ½æŒ‡æ ‡ -->
            <section class="section" id="performance">
                <h2 class="section-title">âš¡ æ€§èƒ½æŒ‡æ ‡</h2>

                <table class="performance-table">
                    <thead>
                        <tr>
                            <th>æ“ä½œ</th>
                            <th>å“åº”æ—¶é—´</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>é¡µé¢åŠ è½½</strong></td>
                            <td><span class="badge badge-success">&lt;3ç§’</span></td>
                            <td>é¦–æ¬¡åŠ è½½å‰ç«¯åº”ç”¨</td>
                        </tr>
                        <tr>
                            <td><strong>OCRè¯†åˆ«</strong></td>
                            <td><span class="badge badge-warning">2-5ç§’</span></td>
                            <td>å•å¼ è¡¨å•è¯†åˆ«ï¼ˆGPUåŠ é€Ÿï¼‰</td>
                        </tr>
                        <tr>
                            <td><strong>å§¿æ€åˆ†æ</strong></td>
                            <td><span class="badge badge-success">&lt;2ç§’</span></td>
                            <td>2å¼ ç…§ç‰‡åˆ†æï¼ˆ33ä¸ªå…³é”®ç‚¹ï¼‰</td>
                        </tr>
                        <tr>
                            <td><strong>æ•°æ®ä¿å­˜</strong></td>
                            <td><span class="badge badge-success">&lt;100ms</span></td>
                            <td>ä¿å­˜æ‚£è€…æ•°æ®åˆ°æ•°æ®åº“</td>
                        </tr>
                        <tr>
                            <td><strong>æ•°æ®æŸ¥è¯¢</strong></td>
                            <td><span class="badge badge-success">&lt;50ms</span></td>
                            <td>æŸ¥è¯¢å•ä¸ªæ‚£è€…ä¿¡æ¯</td>
                        </tr>
                        <tr>
                            <td><strong>åˆ—è¡¨åŠ è½½</strong></td>
                            <td><span class="badge badge-success">&lt;200ms</span></td>
                            <td>åŠ è½½æ‰€æœ‰æ‚£è€…åˆ—è¡¨</td>
                        </tr>
                        <tr>
                            <td><strong>è·¨è®¾å¤‡åŒæ­¥</strong></td>
                            <td><span class="badge badge-info">3ç§’</span></td>
                            <td>è‡ªåŠ¨è½®è¯¢åŒæ­¥é—´éš”</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- ç½‘ç»œæ‹“æ‰‘ -->
            <section class="section" id="network">
                <h2 class="section-title">ğŸŒ ç½‘ç»œæ‹“æ‰‘</h2>

                <div class="grid-2">
                    <div class="card">
                        <h3>ğŸ–¥ï¸ æœ¬åœ°å¼€å‘ç¯å¢ƒ</h3>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 15px;">
                            <p><strong>å¼€å‘æœºå™¨:</strong> Windows</p>
                            <p><strong>IPåœ°å€:</strong> 127.0.0.1 (localhost)</p>
                            <hr style="margin: 15px 0; border: none; border-top: 1px solid #dee2e6;">
                            <p><strong>è®¿é—®åœ°å€:</strong></p>
                            <code style="background: #1e293b; color: #e2e8f0; padding: 8px 12px; border-radius: 4px; display: block; margin-top: 10px;">
                                http://localhost:5173
                            </code>
                        </div>
                    </div>

                    <div class="card">
                        <h3>ğŸ“± è·¨è®¾å¤‡è®¿é—®ï¼ˆæ‰‹æœºçƒ­ç‚¹ï¼‰</h3>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 15px;">
                            <p><strong>ç½‘ç»œ:</strong> æ‰‹æœºçƒ­ç‚¹ (172.20.10.x)</p>
                            <p><strong>æ‰‹æœºIP:</strong> 172.20.10.2</p>
                            <p><strong>ç”µè„‘IP:</strong> 172.20.10.4</p>
                            <hr style="margin: 15px 0; border: none; border-top: 1px solid #dee2e6;">
                            <p><strong>æ‰‹æœºè®¿é—®åœ°å€:</strong></p>
                            <code style="background: #1e293b; color: #e2e8f0; padding: 8px 12px; border-radius: 4px; display: block; margin-top: 10px;">
                                http://172.20.10.4:5173
                            </code>
                        </div>
                    </div>
                </div>

                <div class="alert alert-info" style="margin-top: 20px;">
                    <strong>ğŸ”’ é˜²ç«å¢™é…ç½®:</strong><br>
                    ç³»ç»Ÿå·²è‡ªåŠ¨é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œå…è®¸ä»¥ä¸‹ç«¯å£çš„å…¥ç«™è¿æ¥ï¼š
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li>âœ… Port 5173 - å‰ç«¯è®¿é—®</li>
                        <li>âœ… Port 5001 - OCRæœåŠ¡</li>
                        <li>âœ… Port 5002 - å§¿æ€æœåŠ¡</li>
                        <li>âœ… Port 5003 - æ•°æ®åº“æœåŠ¡</li>
                    </ul>
                </div>
            </section>

            <!-- å¯åŠ¨æµç¨‹ -->
            <section class="section">
                <h2 class="section-title">ğŸš€ å¯åŠ¨æµç¨‹</h2>

                <div class="card">
                    <h3>ä¸€é”®å¯åŠ¨è„šæœ¬: start_all_services.bat</h3>
                    <div class="code-block" style="margin-top: 15px;">
Terminal 1: python backend/ocr_service.py
  â†“
  [OK] OCR Service running on :5001

Terminal 2: python backend/pose_service.py
  â†“
  [OK] Pose Service running on :5002

Terminal 3: python backend/database_service.py
  â†“
  [OK] Database Service running on :5003

Terminal 4: npm run dev
  â†“
  [OK] Vite running on :5173
  â†“
  è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨: http://localhost:5173
                    </div>

                    <div class="alert alert-success" style="margin-top: 20px;">
                        <strong>âœ… æ‰€æœ‰æœåŠ¡å°±ç»ª</strong><br>
                        â€¢ å‰ç«¯å¯è®¿é—®<br>
                        â€¢ OCRè¯†åˆ«å¯ç”¨<br>
                        â€¢ å§¿æ€åˆ†æå¯ç”¨<br>
                        â€¢ æ•°æ®åº“å¯è¯»å†™
                    </div>
                </div>
            </section>

            <!-- æ•°æ®å®‰å…¨ -->
            <section class="section">
                <h2 class="section-title">ğŸ”’ æ•°æ®å®‰å…¨</h2>

                <div class="grid-2">
                    <div class="card">
                        <h3>âœ… å·²å®ç°çš„å®‰å…¨æªæ–½</h3>
                        <ul style="list-style: none;">
                            <li style="padding: 8px 0;">âœ“ <strong>æœ¬åœ°ç½‘ç»œéš”ç¦»</strong> - æ•°æ®ä¸ç¦»å¼€æœ¬åœ°ç½‘ç»œ</li>
                            <li style="padding: 8px 0;">âœ“ <strong>æ— äº‘æœåŠ¡</strong> - æ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆ</li>
                            <li style="padding: 8px 0;">âœ“ <strong>é˜²ç«å¢™ä¿æŠ¤</strong> - ä»…å…è®¸å¿…è¦ç«¯å£å…¥ç«™</li>
                            <li style="padding: 8px 0;">âœ“ <strong>æ‚£è€…éšç§</strong> - æ”¯æŒåŒ¿ååŒ–</li>
                            <li style="padding: 8px 0;">âœ“ <strong>æ•°æ®å¤‡ä»½</strong> - SQLiteæ–‡ä»¶ + JSONå®Œæ•´å¤‡ä»½</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3>
                        <ul style="list-style: none;">
                            <li style="padding: 8px 0; color: #f59e0b;">âš ï¸ å½“å‰æ— èº«ä»½éªŒè¯</li>
                            <li style="padding: 8px 0; color: #666;">â€¢ é€‚ç”¨äºå•ç”¨æˆ·/ç ”ç©¶ç¯å¢ƒ</li>
                            <li style="padding: 8px 0; color: #666;">â€¢ æœªæ¥å¯æ·»åŠ ç™»å½•ç³»ç»Ÿ</li>
                            <li style="padding: 8px 0; color: #666;">â€¢ å»ºè®®å®šæœŸå¤‡ä»½æ•°æ®åº“æ–‡ä»¶</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- ç«¯å£åˆ†é…è¡¨ -->
            <section class="section">
                <h2 class="section-title">ğŸ”Œ ç«¯å£åˆ†é…</h2>

                <table class="performance-table">
                    <thead>
                        <tr>
                            <th>æœåŠ¡</th>
                            <th>ç«¯å£</th>
                            <th>åè®®</th>
                            <th>ç”¨é€”</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>å‰ç«¯</strong></td>
                            <td><span class="badge badge-info">5173</span></td>
                            <td>HTTP</td>
                            <td>Reactåº”ç”¨ï¼ˆVite Dev Serverï¼‰</td>
                        </tr>
                        <tr>
                            <td><strong>OCRæœåŠ¡</strong></td>
                            <td><span class="badge badge-info">5001</span></td>
                            <td>HTTP</td>
                            <td>PaddleOCRæ–‡å­—è¯†åˆ«</td>
                        </tr>
                        <tr>
                            <td><strong>å§¿æ€æœåŠ¡</strong></td>
                            <td><span class="badge badge-info">5002</span></td>
                            <td>HTTP</td>
                            <td>MediaPipeå§¿æ€åˆ†æ</td>
                        </tr>
                        <tr>
                            <td><strong>æ•°æ®åº“æœåŠ¡</strong></td>
                            <td><span class="badge badge-info">5003</span></td>
                            <td>HTTP</td>
                            <td>SQLite REST API</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- ç›¸å…³æ–‡æ¡£ -->
            <section class="section">
                <h2 class="section-title">ğŸ“š ç›¸å…³æ–‡æ¡£</h2>

                <div class="grid-3">
                    <div class="card">
                        <h3>ğŸ“– ç”¨æˆ·æŒ‡å—</h3>
                        <ul style="list-style: none;">
                            <li>â€¢ README.md</li>
                            <li>â€¢ START_GUIDE.md</li>
                            <li>â€¢ UI_IMPROVEMENTS_2025-10-24.md</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>ğŸ—ï¸ æŠ€æœ¯æ–‡æ¡£</h3>
                        <ul style="list-style: none;">
                            <li>â€¢ BACKEND_OVERVIEW.md</li>
                            <li>â€¢ DATABASE_STRUCTURE_GUIDE.md</li>
                            <li>â€¢ .specify/ARCHITECTURE.md</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3>ğŸ”— å¤–éƒ¨èµ„æº</h3>
                        <ul style="list-style: none;">
                            <li>â€¢ <a href="https://github.com/wuhar14-bot/low_back_pain_system" target="_blank" style="color: #667eea;">GitHubä»“åº“</a></li>
                            <li>â€¢ .specify/API.md</li>
                            <li>â€¢ .specify/DATABASE.md</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <div style="background: #f8f9fa; padding: 30px; text-align: center; border-top: 2px solid #e9ecef;">
            <p style="color: #666; margin-bottom: 10px;">
                <strong>University of Hong Kong</strong><br>
                Department of Orthopaedics & Traumatology<br>
                Li Ka Shing Faculty of Medicine
            </p>
            <p style="color: #999; font-size: 0.9em;">
                Last Updated: 2025-10-24 22:30
            </p>
            <p style="color: #667eea; margin-top: 10px;">
                âœ… System Status: Fully Operational
            </p>
        </div>
    </div>

    <script>
        // å¹³æ»‘æ»šåŠ¨
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // æ·»åŠ æµç¨‹æ­¥éª¤åŠ¨ç”»
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateX(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.flow-step').forEach(step => {
            step.style.opacity = '0';
            step.style.transform = 'translateX(-20px)';
            step.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            observer.observe(step);
        });
    </script>
</body>
</html>
