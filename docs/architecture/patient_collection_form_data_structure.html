<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Low Back Pain System - Patient Collection Form Data Structure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .summary {
            background: #f8f9fa;
            padding: 30px;
            border-bottom: 3px solid #667eea;
        }

        .summary h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            border-left: 5px solid #667eea;
            padding-left: 30px;
        }

        .section h2 {
            color: #333;
            font-size: 2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            font-weight: bold;
        }

        .section-subtitle {
            color: #666;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .required {
            background: #dc3545;
            color: white;
        }

        .optional {
            background: #6c757d;
            color: white;
        }

        .conditional {
            background: #ffc107;
            color: #333;
        }

        .type-badge {
            background: #e7f3ff;
            color: #0066cc;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-family: 'Courier New', monospace;
        }

        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 10px;
            background: #f8f9fa;
            margin-bottom: 8px;
            border-radius: 5px;
            border-left: 3px solid #667eea;
        }

        .feature-list li strong {
            color: #667eea;
        }

        .nested-fields {
            margin-top: 10px;
            padding-left: 20px;
            border-left: 2px dashed #ccc;
        }

        .nested-item {
            padding: 5px 0;
            color: #666;
            font-size: 0.9em;
        }

        footer {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
            color: #666;
            border-top: 3px solid #667eea;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
            }
            .stat-card {
                break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“‹ Patient Collection Form</h1>
            <p>Low Back Pain System - Data Structure Documentation</p>
            <p style="font-size: 0.9em; margin-top: 10px; opacity: 0.8;">Generated: 2025-10-24</p>
        </header>

        <div class="summary">
            <h2>ğŸ“Š Overview</h2>
            <p>The patient collection form collects comprehensive clinical data across 7 major sections, supporting both manual entry and AI-assisted OCR extraction.</p>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">70+</div>
                    <div class="stat-label">Total Data Fields</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">7</div>
                    <div class="stat-label">Main Sections</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Required Fields</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Nested Objects</div>
                </div>
            </div>

            <h3 style="margin-top: 30px; margin-bottom: 15px; color: #667eea;">Key Features</h3>
            <ul class="feature-list">
                <li><strong>OCR Integration:</strong> Automated text extraction from medical record images</li>
                <li><strong>AI Posture Analysis:</strong> Real-time ROM measurement using MediaPipe pose detection</li>
                <li><strong>Interactive Body Map:</strong> SVG-based pain area selection with 20 anatomical regions</li>
                <li><strong>Conditional Logic:</strong> Dynamic field display based on user selections</li>
                <li><strong>Multi-platform Support:</strong> Optimized for mobile and desktop data collection</li>
                <li><strong>Auto-save:</strong> Real-time data synchronization with backend database</li>
            </ul>
        </div>

        <div class="content">
            <!-- Section 1: Basic Info -->
            <div class="section">
                <h2><span class="section-number">1</span> Basic Information (åŸºæœ¬ä¿¡æ¯)</h2>
                <p class="section-subtitle">Essential patient demographics and contact information</p>

                <table>
                    <thead>
                        <tr>
                            <th>Field Name</th>
                            <th>Field Key</th>
                            <th>Type</th>
                            <th>Label (ä¸­æ–‡)</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Name</td>
                            <td><code>name</code></td>
                            <td><span class="type-badge">Text</span></td>
                            <td>æ‚£è€…å§“å</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Study ID</td>
                            <td><code>study_id</code></td>
                            <td><span class="type-badge">Text</span></td>
                            <td>Study ID</td>
                            <td><span class="badge required">Required</span></td>
                        </tr>
                        <tr>
                            <td>Phone</td>
                            <td><code>phone</code></td>
                            <td><span class="type-badge">Text</span></td>
                            <td>è”ç³»ç”µè¯</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Age</td>
                            <td><code>age</code></td>
                            <td><span class="type-badge">Number</span></td>
                            <td>å¹´é¾„</td>
                            <td><span class="badge required">Required</span></td>
                        </tr>
                        <tr>
                            <td>Gender</td>
                            <td><code>gender</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>æ€§åˆ« (ç”·/å¥³)</td>
                            <td><span class="badge required">Required</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Section 2: Medical History -->
            <div class="section">
                <h2><span class="section-number">2</span> Medical History (ç—…å²èµ„æ–™)</h2>
                <p class="section-subtitle">Clinical history, symptom characteristics, and previous treatments</p>

                <table>
                    <thead>
                        <tr>
                            <th>Field Name</th>
                            <th>Field Key</th>
                            <th>Type</th>
                            <th>Label (ä¸­æ–‡)</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Chief Complaint</td>
                            <td><code>chief_complaint</code></td>
                            <td><span class="type-badge">Textarea</span></td>
                            <td>ä¸»è¯‰ (supports OCR)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>History Type</td>
                            <td><code>history_type</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>ç°ç—…å²ç±»å‹ (é¦–æ¬¡å‘ä½œ/å¤å‘)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>First Onset Date</td>
                            <td><code>first_onset_date</code></td>
                            <td><span class="type-badge">Date</span></td>
                            <td>åˆæ¬¡å‘ä½œæ—¥æœŸ</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Pain Type</td>
                            <td><code>pain_type</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>ç–¼ç—›ç±»å‹ (å±€éƒ¨/æ”¾å°„/ç‰µæ¶‰)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Aggravating Factors</td>
                            <td><code>aggravating_factors</code></td>
                            <td><span class="type-badge">Textarea</span></td>
                            <td>åŠ é‡å› ç´ </td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Relieving Factors</td>
                            <td><code>relieving_factors</code></td>
                            <td><span class="type-badge">Textarea</span></td>
                            <td>ç¼“è§£å› ç´ </td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Has Radiation</td>
                            <td><code>has_radiation</code></td>
                            <td><span class="type-badge">Boolean</span></td>
                            <td>æ˜¯å¦æœ‰æ”¾å°„ç—›</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Radiation Location</td>
                            <td><code>radiation_location</code></td>
                            <td><span class="type-badge">Text</span></td>
                            <td>æ”¾å°„è‡³ä½•å¤„</td>
                            <td><span class="badge conditional">Conditional</span></td>
                        </tr>
                        <tr>
                            <td>Previous Treatment</td>
                            <td><code>previous_treatment</code></td>
                            <td><span class="type-badge">Textarea</span></td>
                            <td>å…¶ä»–å·²æ¥å—æ²»ç–—</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Condition Progress</td>
                            <td><code>condition_progress</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>ç—…æƒ…è¿›å±• (æ”¹å–„/æ¶åŒ–/ç¨³å®š/æ³¢åŠ¨)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Section 3: Pain Areas -->
            <div class="section">
                <h2><span class="section-number">3</span> Pain Area Selection (ç–¼ç—›åŒºåŸŸé€‰æ‹©)</h2>
                <p class="section-subtitle">Interactive body diagram for anatomical pain location mapping</p>

                <p style="margin-bottom: 15px;"><strong>Data Structure:</strong> <code>pain_areas</code> - Object with boolean values for each anatomical region</p>

                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                        <div class="nested-item">âœ“ <code>upper_cervical</code> - ä¸Šé¢ˆæ¤</div>
                        <div class="nested-item">âœ“ <code>lower_cervical</code> - ä¸‹é¢ˆæ¤</div>
                        <div class="nested-item">âœ“ <code>left_upper_trap</code> - å·¦ä¸Šæ–œæ–¹è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_upper_trap</code> - å³ä¸Šæ–œæ–¹è‚Œ</div>
                        <div class="nested-item">âœ“ <code>left_mid_trap</code> - å·¦ä¸­æ–œæ–¹è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_mid_trap</code> - å³ä¸­æ–œæ–¹è‚Œ</div>
                        <div class="nested-item">âœ“ <code>left_lower_trap</code> - å·¦ä¸‹æ–œæ–¹è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_lower_trap</code> - å³ä¸‹æ–œæ–¹è‚Œ</div>
                        <div class="nested-item">âœ“ <code>left_latissimus</code> - å·¦èƒŒé˜”è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_latissimus</code> - å³èƒŒé˜”è‚Œ</div>
                        <div class="nested-item">âœ“ <code>thoracic_erector</code> - èƒ¸æ¤ç«–è„Šè‚Œ</div>
                        <div class="nested-item">âœ“ <code>lumbar_erector</code> - è…°æ¤ç«–è„Šè‚Œ</div>
                        <div class="nested-item">âœ“ <code>left_glute_max</code> - å·¦è‡€å¤§è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_glute_max</code> - å³è‡€å¤§è‚Œ</div>
                        <div class="nested-item">âœ“ <code>left_glute_med</code> - å·¦è‡€ä¸­è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_glute_med</code> - å³è‡€ä¸­è‚Œ</div>
                        <div class="nested-item">âœ“ <code>left_hamstring</code> - å·¦è…˜ç»³è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_hamstring</code> - å³è…˜ç»³è‚Œ</div>
                        <div class="nested-item">âœ“ <code>left_gastrocnemius</code> - å·¦è…“è‚ è‚Œ</div>
                        <div class="nested-item">âœ“ <code>right_gastrocnemius</code> - å³è…“è‚ è‚Œ</div>
                    </div>
                </div>
            </div>

            <!-- Section 4: Subjective Exam -->
            <div class="section">
                <h2><span class="section-number">4</span> Subjective Examination (ä¸»è§‚æ£€æŸ¥)</h2>
                <p class="section-subtitle">Patient-reported pain, function, and red flag screening</p>

                <h3 style="margin-top: 20px; margin-bottom: 10px; color: #667eea;">Pain & Function Assessment</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Field Name</th>
                            <th>Field Key</th>
                            <th>Type</th>
                            <th>Label (ä¸­æ–‡)</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Pain Score</td>
                            <td><code>pain_score</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>NPRS ç–¼ç—›è¯„åˆ† (0-10)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Sitting Tolerance</td>
                            <td><code>sitting_tolerance</code></td>
                            <td><span class="type-badge">Number</span></td>
                            <td>åå§¿è€å—æ—¶é—´ (åˆ†é’Ÿ)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Standing Tolerance</td>
                            <td><code>standing_tolerance</code></td>
                            <td><span class="type-badge">Number</span></td>
                            <td>ç«™ç«‹è€å—æ—¶é—´ (åˆ†é’Ÿ)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Walking Tolerance</td>
                            <td><code>walking_tolerance</code></td>
                            <td><span class="type-badge">Number</span></td>
                            <td>è¡Œèµ°è€å—æ—¶é—´ (åˆ†é’Ÿ)</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Has Assistive Tools</td>
                            <td><code>has_assistive_tools</code></td>
                            <td><span class="type-badge">Boolean</span></td>
                            <td>æ˜¯å¦ä½¿ç”¨è¾…åŠ©å·¥å…·</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Assistive Tools</td>
                            <td><code>assistive_tools</code></td>
                            <td><span class="type-badge">Text</span></td>
                            <td>è¾…åŠ©å·¥å…·æè¿°</td>
                            <td><span class="badge conditional">Conditional</span></td>
                        </tr>
                        <tr>
                            <td>Has Claudication</td>
                            <td><code>has_claudication</code></td>
                            <td><span class="type-badge">Boolean</span></td>
                            <td>æ˜¯å¦æœ‰é—´æ­‡æ€§è·›è¡Œ</td>
                            <td><span class="badge optional">Optional</span></td>
                        </tr>
                        <tr>
                            <td>Claudication Distance</td>
                            <td><code>claudication_distance</code></td>
                            <td><span class="type-badge">Text</span></td>
                            <td>é—´æ­‡æ€§è·›è¡Œè·ç¦»</td>
                            <td><span class="badge conditional">Conditional</span></td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #dc3545;">Red Flags Screening</h3>
                <p style="margin-bottom: 15px;"><strong>Data Structure:</strong> <code>red_flags</code> - Object with boolean values</p>

                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                        <div class="nested-item">âš ï¸ <code>weight_loss</code> - æ˜¾è‘—ä½“é‡å‡è½»</div>
                        <div class="nested-item">âš ï¸ <code>appetite_loss</code> - é£Ÿæ¬²ä¸æŒ¯</div>
                        <div class="nested-item">âš ï¸ <code>fever</code> - å‘çƒ­</div>
                        <div class="nested-item">âš ï¸ <code>night_pain</code> - å¤œé—´ç–¼ç—›</div>
                        <div class="nested-item">âš ï¸ <code>bladder_bowel_dysfunction</code> - è†€èƒ±/è‚ é“åŠŸèƒ½éšœç¢</div>
                        <div class="nested-item">âš ï¸ <code>saddle_numbness</code> - éåŒºéº»æœ¨</div>
                        <div class="nested-item">âš ï¸ <code>bilateral_limb_weakness</code> - åŒä¾§è‚¢ä½“æ— åŠ›</div>
                        <div class="nested-item">âš ï¸ <code>bilateral_sensory_abnormal</code> - åŒä¾§æ„Ÿè§‰å¼‚å¸¸</div>
                        <div class="nested-item">âš ï¸ <code>hand_clumsiness</code> - æ‰‹éƒ¨ä¸çµæ´»</div>
                        <div class="nested-item">âš ï¸ <code>gait_abnormal</code> - æ­¥æ€å¼‚å¸¸</div>
                    </div>
                </div>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Cervical Function Problems</h3>
                <p style="margin-bottom: 15px;"><strong>Data Structure:</strong> <code>cervical_function_problems</code> - Object with boolean values</p>

                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                        <div class="nested-item">âœ“ <code>dropping_objects</code> - ç‰©å“æ‰è½</div>
                        <div class="nested-item">âœ“ <code>difficulty_picking_small_items</code> - éš¾ä»¥æ‹¾å–å°ç‰©ä»¶</div>
                        <div class="nested-item">âœ“ <code>writing_difficulty</code> - ä¹¦å†™å›°éš¾</div>
                        <div class="nested-item">âœ“ <code>phone_usage_difficulty</code> - ä½¿ç”¨æ‰‹æœºå›°éš¾</div>
                        <div class="nested-item">âœ“ <code>buttoning_difficulty</code> - æ‰£çº½æ‰£å›°éš¾</div>
                        <div class="nested-item">âœ“ <code>chopstick_usage_difficulty</code> - ä½¿ç”¨ç­·å­å›°éš¾</div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Objective Exam -->
            <div class="section">
                <h2><span class="section-number">5</span> Objective Examination (å®¢è§‚æ£€æŸ¥)</h2>
                <p class="section-subtitle">Physical examination findings including posture, ROM, special tests, and reflexes</p>

                <h3 style="margin-top: 20px; margin-bottom: 10px; color: #667eea;">AI Posture Analysis (MediaPipe)</h3>
                <p style="margin-bottom: 15px;"><strong>Data Structure:</strong> <code>ai_posture_analysis</code> - Complex object with ROM measurements and clinical recommendations</p>
                <div class="nested-fields">
                    <div class="nested-item">ğŸ“Š <code>rom_degrees</code> - Measured ROM angles</div>
                    <div class="nested-item">ğŸ“Š <code>rom_assessment</code> - Functional assessment</div>
                    <div class="nested-item">ğŸ“Š <code>compensations</code> - Compensation patterns</div>
                    <div class="nested-item">ğŸ“Š <code>recommendations</code> - Clinical recommendations</div>
                    <div class="nested-item">ğŸ“Š <code>annotatedStandingUrl</code> - Standing posture image</div>
                    <div class="nested-item">ğŸ“Š <code>annotatedFlexionUrl</code> - Flexion posture image</div>
                </div>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Posture Assessment</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Field Name</th>
                            <th>Field Key</th>
                            <th>Type</th>
                            <th>Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Cervical Posture</td>
                            <td><code>cervical_posture</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>å‰å‡¸è¿‡åº¦ / æ­£å¸¸ / å‰å‡¸æ¶ˆå¤± / åå‡¸</td>
                        </tr>
                        <tr>
                            <td>Lumbar Posture</td>
                            <td><code>lumbar_posture</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>å‰å‡¸è¿‡åº¦ / æ­£å¸¸ / æ›²åº¦å˜å¹³ / åå‡¸</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Range of Motion (ROM)</h3>
                <p style="margin-bottom: 15px;"><strong>Cervical ROM:</strong> <code>cervical_rom</code> - Object with 6 directional measurements</p>
                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                        <div class="nested-item">ğŸ“ <code>flexion</code> - å±ˆæ›²</div>
                        <div class="nested-item">ğŸ“ <code>extension</code> - ä¼¸å±•</div>
                        <div class="nested-item">ğŸ“ <code>left_lateral</code> - å·¦ä¾§å±ˆ</div>
                        <div class="nested-item">ğŸ“ <code>right_lateral</code> - å³ä¾§å±ˆ</div>
                        <div class="nested-item">ğŸ“ <code>left_rotation</code> - å·¦æ—‹è½¬</div>
                        <div class="nested-item">ğŸ“ <code>right_rotation</code> - å³æ—‹è½¬</div>
                    </div>
                </div>

                <p style="margin-top: 20px; margin-bottom: 15px;"><strong>Lumbar ROM:</strong> <code>lumbar_rom</code> - Object with 6 directional measurements</p>
                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                        <div class="nested-item">ğŸ“ <code>flexion</code> - å±ˆæ›²</div>
                        <div class="nested-item">ğŸ“ <code>extension</code> - ä¼¸å±•</div>
                        <div class="nested-item">ğŸ“ <code>left_lateral</code> - å·¦ä¾§å±ˆ</div>
                        <div class="nested-item">ğŸ“ <code>right_lateral</code> - å³ä¾§å±ˆ</div>
                        <div class="nested-item">ğŸ“ <code>left_rotation</code> - å·¦æ—‹è½¬</div>
                        <div class="nested-item">ğŸ“ <code>right_rotation</code> - å³æ—‹è½¬</div>
                    </div>
                </div>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Special Tests</h3>
                <p style="margin-bottom: 15px;"><strong>SLR Test:</strong> <code>slr_test</code> - Object with bilateral angles</p>
                <div class="nested-fields">
                    <div class="nested-item">ğŸ“ <code>left_angle</code> - å·¦ä¾§è§’åº¦</div>
                    <div class="nested-item">ğŸ“ <code>right_angle</code> - å³ä¾§è§’åº¦</div>
                </div>

                <p style="margin-top: 20px; margin-bottom: 15px;"><strong>Femoral Nerve Test:</strong> <code>femoral_nerve_test</code> - Object with bilateral results</p>
                <div class="nested-fields">
                    <div class="nested-item">ğŸ” <code>left</code> - å·¦ä¾§ç»“æœ</div>
                    <div class="nested-item">ğŸ” <code>right</code> - å³ä¾§ç»“æœ</div>
                </div>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Reflex Examination</h3>
                <p style="margin-bottom: 15px;"><strong>Data Structure:</strong> <code>reflexes</code> - Object with 5-grade scale (-, +, ++, +++, ++++)</p>
                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                        <div class="nested-item">ğŸ”¨ <code>biceps_left</code> - äºŒå¤´è‚Œå·¦</div>
                        <div class="nested-item">ğŸ”¨ <code>biceps_right</code> - äºŒå¤´è‚Œå³</div>
                        <div class="nested-item">ğŸ”¨ <code>triceps_left</code> - ä¸‰å¤´è‚Œå·¦</div>
                        <div class="nested-item">ğŸ”¨ <code>triceps_right</code> - ä¸‰å¤´è‚Œå³</div>
                        <div class="nested-item">ğŸ”¨ <code>knee_left</code> - è†åå°„å·¦</div>
                        <div class="nested-item">ğŸ”¨ <code>knee_right</code> - è†åå°„å³</div>
                        <div class="nested-item">ğŸ”¨ <code>ankle_left</code> - è¸åå°„å·¦</div>
                        <div class="nested-item">ğŸ”¨ <code>ankle_right</code> - è¸åå°„å³</div>
                    </div>
                </div>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Vascular Assessment</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Field Name</th>
                            <th>Field Key</th>
                            <th>Type</th>
                            <th>Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Distal Pulse</td>
                            <td><code>distal_pulse</code></td>
                            <td><span class="type-badge">Select</span></td>
                            <td>å­˜åœ¨ / ä¸å­˜åœ¨</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Section 6: Functional Score -->
            <div class="section">
                <h2><span class="section-number">6</span> Functional Score (åŠŸèƒ½è¯„åˆ†)</h2>
                <p class="section-subtitle">Standardized disability and function assessment tools</p>

                <table>
                    <thead>
                        <tr>
                            <th>Scale</th>
                            <th>Field Key</th>
                            <th>Type</th>
                            <th>Range</th>
                            <th>Interpretation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>RMDQ</td>
                            <td><code>rmdq_score</code></td>
                            <td><span class="type-badge">Number</span></td>
                            <td>0-24</td>
                            <td>
                                0-4: è½»å¾®<br>
                                5-14: ä¸­ç­‰<br>
                                15-24: é‡åº¦
                            </td>
                        </tr>
                        <tr>
                            <td>NDI</td>
                            <td><code>ndi_score</code></td>
                            <td><span class="type-badge">Number</span></td>
                            <td>0-100%</td>
                            <td>
                                0-20%: è½»å¾®<br>
                                21-40%: ä¸­ç­‰<br>
                                41-60%: é‡åº¦<br>
                                >60%: å®Œå…¨æ®‹ç–¾
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Section 7: Intervention -->
            <div class="section">
                <h2><span class="section-number">7</span> Intervention & Recommendations (å¹²é¢„å»ºè®®)</h2>
                <p class="section-subtitle">Treatment interventions and clinical recommendations</p>

                <h3 style="margin-top: 20px; margin-bottom: 10px; color: #667eea;">Interventions Provided</h3>
                <p style="margin-bottom: 15px;"><strong>Data Structure:</strong> <code>interventions</code> - Object with boolean values</p>
                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px;">
                        <div class="nested-item">ğŸ’Š <code>posture_correction</code> - å§¿åŠ¿çŸ«æ­£</div>
                        <div class="nested-item">ğŸ’Š <code>pain_management</code> - ç–¼ç—›è°ƒèŠ‚ï¼ˆçƒ­æ•·ï¼‰</div>
                        <div class="nested-item">ğŸ’Š <code>therapeutic_exercise</code> - æ²»ç–—æ€§è¿åŠ¨</div>
                        <div class="nested-item">ğŸ’Š <code>gait_reeducation</code> - æ­¥æ€å†æ•™è‚²</div>
                    </div>
                </div>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Clinical Recommendations</h3>
                <p style="margin-bottom: 15px;"><strong>Data Structure:</strong> <code>recommendations</code> - Object with boolean values</p>
                <div class="nested-fields">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 10px;">
                        <div class="nested-item">ğŸ“‹ <code>discharge_with_advice</code> - å‡ºé™¢å¹¶æä¾›å»ºè®®åŠå®¶åº­é”»ç‚¼è®¡åˆ’</div>
                        <div class="nested-item">ğŸ“‹ <code>specialist_followup</code> - è¿›ä¸€æ­¥ä¸“ç§‘é—¨è¯Š(SOPD)éšè®¿</div>
                        <div class="nested-item">ğŸ“‹ <code>outpatient_pt</code> - é—¨è¯Šç‰©ç†æ²»ç–—</div>
                        <div class="nested-item">ğŸ“‹ <code>day_rehabilitation</code> - æ—¥é—´åº·å¤</div>
                        <div class="nested-item">ğŸ“‹ <code>medication_intervention</code> - è¯ç‰©å¹²é¢„</div>
                    </div>
                </div>

                <h3 style="margin-top: 30px; margin-bottom: 10px; color: #667eea;">Additional Documentation</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Field Name</th>
                            <th>Field Key</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Medication Details</td>
                            <td><code>medication_details</code></td>
                            <td><span class="type-badge">Textarea</span></td>
                            <td>Drug name, dosage, frequency, timing, duration</td>
                        </tr>
                        <tr>
                            <td>Remarks</td>
                            <td><code>remarks</code></td>
                            <td><span class="type-badge">Textarea</span></td>
                            <td>General clinical notes and observations</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Technical Details -->
            <div class="section" style="border-left-color: #764ba2;">
                <h2><span class="section-number" style="background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);">âš™ï¸</span> Technical Implementation</h2>

                <h3 style="margin-top: 20px; margin-bottom: 15px; color: #667eea;">Data Validation & Sanitization</h3>
                <ul class="feature-list">
                    <li><strong>Numeric Fields:</strong> age, pain_score, sitting_tolerance, standing_tolerance, walking_tolerance, rmdq_score, ndi_score - Validated as integers with range checking</li>
                    <li><strong>Boolean Fields:</strong> has_radiation, has_assistive_tools, has_claudication - Converted to strict boolean values</li>
                    <li><strong>Nested Boolean Objects:</strong> red_flags, cervical_function_problems, interventions, recommendations - Each key converted to boolean</li>
                    <li><strong>Required Field Validation:</strong> study_id, age, gender must be present for form submission</li>
                </ul>

                <h3 style="margin-top: 30px; margin-bottom: 15px; color: #667eea;">Auto-Save & Synchronization</h3>
                <ul class="feature-list">
                    <li><strong>Real-time Auto-save:</strong> Form data automatically saved to backend after each section completion</li>
                    <li><strong>Sync Interval:</strong> 3-second polling for remote updates via <code>last_sync_timestamp</code></li>
                    <li><strong>Conflict Resolution:</strong> Remote changes override local data when timestamps indicate newer version</li>
                    <li><strong>Workspace Association:</strong> All patient data linked to <code>workspace_id</code> for multi-tenant support</li>
                </ul>

                <h3 style="margin-top: 30px; margin-bottom: 15px; color: #667eea;">AI Features</h3>
                <ul class="feature-list">
                    <li><strong>OCR Extraction:</strong> Upload medical record images â†’ AI extracts structured data â†’ Auto-populate form fields</li>
                    <li><strong>MediaPipe Pose Analysis:</strong> Real-time body posture detection â†’ Automatic ROM calculation â†’ Generate clinical recommendations</li>
                    <li><strong>Data Sanitization:</strong> AI-extracted data validated and sanitized before form population</li>
                    <li><strong>Section Completion Tracking:</strong> Smart detection of completed sections based on non-empty validated fields</li>
                </ul>
            </div>
        </div>

        <footer>
            <p><strong>Low Back Pain System</strong> - Patient Collection Form Data Structure</p>
            <p style="margin-top: 10px; font-size: 0.9em;">
                Generated: 2025-10-24 |
                Total Fields: 70+ |
                Sections: 7 |
                Technology: React + MediaPipe + OCR
            </p>
        </footer>
    </div>
</body>
</html>
